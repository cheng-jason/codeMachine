module.exports = ( interfaceDef )->

	getMethodName = ( url )->
		reg = /(method=)(.*)(\&?)/
		rlt = reg.exec( url )
		return rlt[2]

	return  """\n
		@MethodDesc(
				name = "#{interfaceDef.interfaceName}",
				author = "#{interfaceDef.author}", 
				createDate = "#{interfaceDef.date}", 
				inputJson = "#{( JSON.stringify interfaceDef.params ).replace( /\"/g, "'" )}", 
				method = "#{interfaceDef.method}", 
				outputJson = "#{( JSON.stringify interfaceDef.result ).replace( /\"/g, "'" )}", 
				path = "#{interfaceDef.interfaceUrl}",
				desc="#{interfaceDef.desc}",
				version="1.0"
			)
		public void #{getMethodName interfaceDef.interfaceUrl}(HttpServletRequest req, HttpServletResponse rep,
				IErrorHandler errorHandler, IMessageHandler messageHandler,	ViewHelper viewHelper) {
			Map rltMap = new HashMap();
			rltMap.put( "data", "已登录" );
			rltMap.put( "ok", "true" );
			RepSendJson.sendJson(rltMap, rep);
		}\n
	"""