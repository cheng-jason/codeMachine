Utils = require 'utils'

module.exports = ( interfaceDef )->
	cmdName = Utils.getCmdName( interfaceDef.interfaceUrl )

	if ( interfaceDef.method == 'POST' ) or ( interfaceDef.method == 'post' )
		return  """\n
			/**
			* #{interfaceDef.interfaceName}
			* @autor #{interfaceDef.author}
			* @desc #{interfaceDef.desc}
			*/
			public Map #{Utils.getMethodName interfaceDef.interfaceUrl}( Map beanMap ){
				getTransactionTemplate().execute( new TransactionCallbackWithoutResult() {
					protected void doInTransactionWithoutResult( TransactionStatus arg0 ) {
						get#{Utils.transferFirstLetterUpper cmdName}Domain().#{Utils.getMethodName interfaceDef.interfaceUrl}( beanMap );
					}
				} );
			}
			\n
		"""
	else
		return  """\n
			/**
			* #{interfaceDef.interfaceName}
			* @autor #{interfaceDef.author}
			* @desc #{interfaceDef.desc}
			*/
			public Map #{Utils.getMethodName interfaceDef.interfaceUrl}( Map beanMap ){
				get#{Utils.transferFirstLetterUpper cmdName}Domain().#{Utils.getMethodName interfaceDef.interfaceUrl}( beanMap );
			}
			\n
		"""	